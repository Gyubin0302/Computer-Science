### 프로세스
  - OS(kernel)에서 할당받은 자원(CPU 자원, 메모리 자원에 대한 접근) 단위
  - OS(kernel)가 관리
  - 메모리에 올려져서 실행 중인 프로그램 instance
  - 하나의 프로세스는 여러개의 스레드를 가질 수 있음
  - 프로레스는 OS에서 할당한 virtual memory를 사용
  - 프로세스는 고유 ID인 PID를 가짐
  - 한 컴퓨터에서 여러개의 프로세스가 작동하는 것을 멀티 태스킹이라 함
  - 프로세스간의 통신을 하기위해 IPC 기법이 필요

### 스레드
  - Light Weight Process 라고도 함
  - 할당받은 자원을 이용하는 실행의 단위
  - 스레드는 동시에 실행 가능
  - 프로레스가 할당받은 메모리 영역(virtual memory) 내에서 thread local stroage(stack)만 따로 할당 받고 Data/Code/Heap 메모리 영역은 공유
  - 스레드의 장점
    - 사용자에 대한 응답성 향상
    - 자원 공유의 효율. 프로세스 안에 있으므로, 프로세스의 데이터를 모두 접근이 가능하여 프로세스처럼 IPC 기법과 같은 프로세스간 자원 공유를 위해 번거러운 작업이 필요 없음
  - 스레드의 단점
    - 스레드 중 한 스레드만 문제만 있어도 전체 프로세스가 영향을 받음
    - 스레드를 많이 생성하면 Context Switching이 많이 일어나 성능 저하
    - 스레드는 프로세스의 자원을 공유하기 때문에 동기화 이슈로 인한 비정상적으로 동작할 수 있음 (동기화 코드를 적정히 추가해줘야 함)

### 스레드의 동기화 이슈
  - 동기화란 작업들 사이에 실행 시기를 맞추는 것
  - 동일 자원을 여러 스레드가 동시 수정시, 각 스레드 결과에 영향을 줌
  - 예를 들어 멀티 스레드 상황에서 스레드1이 동작하고 있다가 동작이 다 끝나지 않은 상황에서 컨텍스트 스위칭이 일어나 스레드2로 넘어가 스레드2의 동작을 실행하고 또 스레드2의 동작이 다 끝나지 않은 상황에서 컨텍스트 스위칭이 일어나 스레드1으로 넘어가 스레드1의 남은 동작을 이어서 실행하고 이런 상황이 반복하게 되면 개발자가 원하는 결과가 나오지 않는 상황이 발생함
  - 동기화 이슈 해결 방안
     - 스레드는 프로세스의 모든 데이터를 접근할 수 있으므로, 여러 스레드가 변경하는 공유 변수에 대해 Excusion Access가 필요
    - 어느 한 스레드가 공유 변수를 갱신하는 동안 다른 스레드가 동시 접근하지 못하도록 막음 (lock)
    - Mutual Exclusion(상호 배제)
      - 임계 자원(critical resource) : 동시에 읽고 쓰게되는 데이터
      - 임계 영역(critical section) : 임계 자원을 동시에 읽고 쓰는 작업을 하는 코드
    - critical section에 대한 접근을 막기 위해 LOCKING 메커니즘이 필요
    - Mutex(Binary semaphore)
      - critical section에 하나의 스레드만 들어갈 수 있음
    - Semaphore
      - critical section에 여러 스레드가 들어갈 수 있음
      - counter를 두어서 동시에 리소스에 접근 할 수 있는 허용 가능한 스레드 수를 제어
      
### 스레드의 교착상태(deadlock) 기아상태(starvation)
  - 교착상태(deadlock)
    - 무한 대기 상태
    - 두 개 이상의 작업이 서로 상대방의 작업이 끝나기 만을 기다리고 있기 때문에 다음 단계로 진행하지 못 하는 상태
    - 프로세스, 스레드 둘 다 이와 같은 상태가 일어날 수 있음
    - 여러 프로세스가 동일 자원 점유를 요청할 때 발생
  - 기아상태(starvation)
    - 특정 프로세스의 우선순위가 낮아서 원하는 자원을 계속 할당 받지 못하는 상태
    - 여러 프로세스가 부족한 자원을 점유하기 위해서 경쟁할 때, 특정 프로레스는 영원히 자원 할당이 안되는 경우를 의미
    - 기아상태 해결방안
      - 프로세스의 우선순위를 수시로 변경해서, 각 프로세스가 높은 우선순위를 가질 수 있게 하면 됨
      - 오래 기다린 프로세스의 우선선위를 높여주기
      - 우선순위가 아닌, 요청 순서대로 처리하는 FIFO 기반 요청큐 사용
